opencollection: 1.0.0

info:
  name: fastapi-crud-db-auth
config:
  proxy:
    inherit: true
    config:
      protocol: http
      hostname: ""
      port: ""
      auth:
        username: ""
        password: ""
      bypassProxy: ""

request:
  auth:
    type: bearer
    token: ""
  scripts:
    - type: before-request
      code: |-
        const token = bru.getEnvVar("jwt_token");
        if (token) {
          req.setHeader("Authorization", `Bearer ${token}`);
        }
    - type: after-response
      code: |-
        const data = res.getBody();
        // Save the token to an environment variable
        bru.setEnvVar("jwt_token", data.access_token);
bundled: false
extensions:
  ignore:
    - node_modules
    - .git
